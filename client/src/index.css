/* Fuentes Google: Poppins como fuente moderna y estética para el cuerpo */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap") layer(base);

/* Copernicus Bold - fuente personalizada para subtítulos
   Archivo: public/fonts/CopernicusBold.woff2 */
@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme {
  --color-primary-50: #f9ede8;
  --color-primary-100: #f3dcd3;
  --color-primary-200: #e9bca9;
  --color-primary-300: #df9c7f;
  --color-primary-400: #d57c55;
  --color-primary-500: #cb6843;
  --color-primary-600: #a85336;
  --color-primary-700: #7d3e28;
  --color-primary-800: #53291b;
  --color-primary-900: #29150d;
  --color-primary: #cb6843;

  --color-dark-50: #4a4a46;
  --color-dark-100: #3f3f3d;
  --color-dark-200: #343432;
  --color-dark-300: #2e2e2c;
  --color-dark-400: #262624;
  --color-dark-500: #1e1e1c;
  --color-dark-600: #161614;
  --color-dark-700: #0e0e0d;
  --color-dark-800: #060605;
  --color-dark-900: #000000;
  --color-dark: #262624;

  --color-light-50: #ffffff;
  --color-light-100: #fefefe;
  --color-light-200: #fcfcfb;
  --color-light-300: #f9f9f8;
  --color-light-400: #f7f7f6;
  --color-light-500: #f5f5f4;
  --color-light-600: #e8e8e6;
  --color-light-700: #dbdbd8;
  --color-light-800: #cececa;
  --color-light-900: #c1c1bc;
  --color-light: #f5f5f4;

  --font-sans:
    Poppins, -apple-system, BlinkMacSystemFont, SF Pro Display, Segoe UI,
    Roboto, Helvetica, Arial, sans-serif;

  --animate-fade-in: fadeIn 0.5s ease-in-out;
  --animate-slide-up: slideUp 0.4s ease-out;
  --animate-slide-down: slideDown 0.4s ease-out;
  --animate-scale-in: scaleIn 0.3s ease-out;
  --animate-float: float 3s ease-in-out infinite;

  --backdrop-blur-xs: 2px;

  /* Sistema de Z-Index Centralizado */
  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 20;
  --z-fixed: 30;
  --z-drawer-backdrop: 40;
  --z-drawer: 45;
  --z-modal-backdrop: 50;
  --z-modal: 55;
  --z-popover: 60;
  --z-toast: 70;
  --z-overlay: 9999;

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }

    100% {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    0% {
      transform: translateY(20px);
      opacity: 0;
    }

    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slideDown {
    0% {
      transform: translateY(-20px);
      opacity: 0;
    }

    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes scaleIn {
    0% {
      transform: scale(0.9);
      opacity: 0;
    }

    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes float {

    0%,
    100% {
      transform: translateY(0px);
    }

    50% {
      transform: translateY(-10px);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  /* Tailwind v4: botones ahora usan cursor:default por defecto
     Restauramos el comportamiento de v3 para mejor UX */
  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }

  /* Tailwind v4: inputs no tienen outline por defecto
     Asegurar que son editables visualmente */
  input,
  textarea,
  select {
    background-color: inherit;
  }
}

@utility copernicus {
  /* Clase utilitaria para el título de marca */
  font-family:
    "Copernicus-Bold",
    "Inter",
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    sans-serif;
  /* opcional: ajustar espaciado entre letras si se desea */
  letter-spacing: 0.02em;
}

@utility subtitle {
  /* Clase para subtítulos que usarán Copernicus Bold */
  font-family:
    "Copernicus-Bold",
    "Copernicus New Condensed Trial",
    Poppins,
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    sans-serif;
  font-weight: 700;
  /* tamaño un poco más destacado en pantallas grandes */
  font-size: 1.125rem;
  /* 18px base */
  line-height: 1.35;
}

@utility copernicus-110 {
  font-family:
    "Copernicus-Cond-110",
    "Copernicus New Condensed Trial",
    Inter,
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    sans-serif;
}

@utility brand-title {
  /* sólo se mantiene la variante 110 (usada en el hero) */

  /* Navbar brand underline animation */
  position: relative;
  display: inline-block;

  &::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0.05em;
    height: 2px;
    width: 0;
    background: currentColor;
    transition: width 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  &:hover::after {
    width: 100%;
  }
}

@utility glass {
  /* Glassmorphism component: base + dark override (se usan selectores .dark para compatibilidad con darkMode: 'class') */
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.18);

  .dark & {
    background: rgba(38, 38, 36, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
}

@utility dark {
  & .glass {
    background: rgba(38, 38, 36, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  & .gradient-bg {
    background: linear-gradient(135deg,
        rgba(38, 38, 36, 0.95) 0%,
        rgba(30, 30, 28, 0.95) 100%);
  }

  & .skeleton {
    @apply from-gray-700 via-gray-600 to-gray-700;
  }

  & .glass-nav {
    background: rgba(20, 20, 18, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: none;
  }

  & .text-gray-900 {
    color: #ffffff !important;
  }

  & .text-gray-800 {
    color: #f8fafc !important;
  }

  & .text-gray-700 {
    color: #d1d5db !important;
  }

  & .text-gray-600 {
    color: #9ca3af !important;
  }

  & .text-gray-500 {
    color: #6b7280 !important;
  }
}

@utility gradient-bg {
  /* Gradient background component */
  background: linear-gradient(135deg,
      rgba(203, 104, 67, 0.1) 0%,
      rgba(213, 124, 85, 0.1) 100%);

  .dark & {
    background: linear-gradient(135deg,
        rgba(38, 38, 36, 0.95) 0%,
        rgba(30, 30, 28, 0.95) 100%);
  }
}

@utility skeleton {
  @apply bg-linear-to-r from-gray-200 via-gray-300 to-gray-200;
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;

  .dark & {
    @apply from-gray-700 via-gray-600 to-gray-700;
  }
}

@utility glass-nav {
  background: rgba(255, 255, 255, 0.65);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: none;

  .dark & {
    background: rgba(20, 20, 18, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: none;
  }
}

@utility page-container {
  /* Contenedor de página estándar - evita cadenas largas de clases */
  @apply min-h-screen pt-16 sm:pt-20 pb-8 sm:pb-12 px-3 sm:px-4 md:px-6 lg:px-8;
  @apply bg-linear-to-br from-light-500 via-primary-50 to-light-500;
  @apply dark:from-dark-500 dark:via-dark-400 dark:to-dark-600;
}

@utility btn-primary {
  /* Botón primario reutilizable */
  @apply px-4 sm:px-6 py-3 bg-linear-to-r from-primary-500 to-primary-600;
  @apply text-white rounded-xl font-semibold shadow-lg;
  @apply hover:shadow-xl transition-all duration-200;
  @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

@utility btn-secondary {
  /* Botón secundario (glass) */
  @apply px-4 py-3 glass rounded-xl font-semibold;
  @apply text-gray-700 dark:text-gray-300;
  @apply hover:shadow-md transition-shadow duration-200;
}

@utility input-field {
  /* Input estándar */
  @apply w-full px-4 py-3 bg-white dark:bg-gray-800;
  @apply border border-gray-300 dark:border-gray-700 rounded-xl;
  @apply focus:ring-2 focus:ring-primary-500;
  @apply text-gray-900 dark:text-white;
}

@utility card-glass {
  /* Card container glass */
  @apply glass rounded-2xl p-6 shadow-lg;
}

/* Clases de z-index basadas en variables CSS */
.z-base {
  z-index: var(--z-base);
}

.z-dropdown {
  z-index: var(--z-dropdown);
}

.z-sticky {
  z-index: var(--z-sticky);
}

.z-fixed {
  z-index: var(--z-fixed);
}

.z-drawer-backdrop {
  z-index: var(--z-drawer-backdrop);
}

.z-drawer {
  z-index: var(--z-drawer);
}

.z-modal-backdrop {
  z-index: var(--z-modal-backdrop);
}

.z-modal {
  z-index: var(--z-modal);
}

.z-popover {
  z-index: var(--z-popover);
}

.z-toast {
  z-index: var(--z-toast);
}

.z-overlay {
  z-index: var(--z-overlay);
}

/* Focus visible mejorado para accesibilidad */
.focus-ring {
  @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2;
  @apply dark:focus-visible:ring-offset-gray-900;
}

/* Asegurar colores de texto legibles en modo oscuro para utilidades heredadas
   Algunas clases pueden haberse definido sólo para modo claro; aquí añadimos
   un pequeño override para que esos textos también sean legibles en .dark. */
@layer base {
  .dark .text-gray-900 {
    color: #ffffff !important;
  }

  .dark .text-gray-800 {
    color: #f8fafc !important;
  }

  .dark .text-gray-700 {
    color: #d1d5db !important;
  }

  .dark .text-gray-600 {
    color: #9ca3af !important;
  }

  .dark .text-gray-500 {
    color: #6b7280 !important;
  }

  @font-face {
    font-family: "Copernicus-Bold";
    src: url("/fonts/CopernicusBold.woff2") format("woff2");
    font-weight: 700;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: "Copernicus-Cond-110";
    src: url("/fonts/CopernicusNewCondTrial110.woff2") format("woff2");
    font-weight: 700;
    font-style: normal;
    font-display: swap;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family:
      "Poppins",
      -apple-system,
      BlinkMacSystemFont,
      "SF Pro Display",
      "Segoe UI",
      "Roboto",
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Variable global de color de texto para elementos sin utilidades específicas */
:root {
  --text-default: #111827;
  /* gray-900 */
}

.dark :root,
.dark body,
.dark .dark-text-fallback {
  --text-default: #ffffff;
}

body {
  color: var(--text-default);
}

.smooth-transition {
  transition:
    color 0.25s ease,
    background-color 0.25s ease,
    box-shadow 0.25s ease,
    transform 0.25s ease;
}

/* Gradient text */
.gradient-text {
  background: linear-gradient(135deg, #cb6843 0%, #d57c55 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Hover lift effect */
.hover-lift {
  transition:
    transform 0.3s ease,
    box-shadow 0.3s ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 40px rgba(203, 104, 67, 0.15);
}

/* Input focus styles */
input:focus,
textarea:focus,
select:focus {
  outline: none;
  @apply ring-2 ring-primary-500/50;
}

/* Button animations */
button {
  transition: all 0.2s ease;
}

button:active {
  transform: scale(0.98);
}

/* Fade in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.5s ease-out;
}

@keyframes subtle-bounce {

  0%,
  100% {
    transform: var(--tx) translateY(0);
  }

  50% {
    transform: var(--tx) translateY(-5px);
  }
}

.subtle-bounce {
  animation: subtle-bounce 1.4s ease-in-out infinite;
}

.hero-scroll-btn {
  position: absolute;
  left: 50% !important;
  top: calc(100% + 2.25rem) !important;
  transform: translateX(-50%) translateY(0);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 3rem;
  /* 48px */
  height: 3rem;
  border-radius: 9999px;
  background: rgba(255, 255, 255, 0.92);
  box-shadow: 0 10px 20px rgba(2, 6, 23, 0.12);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  transition:
    transform 180ms ease,
    box-shadow 180ms ease;
}

.hero-scroll-btn:hover {
  transform: translateX(-50%) translateY(-2px) scale(1.03);
  box-shadow: 0 14px 28px rgba(2, 6, 23, 0.16);
}

.dark .hero-scroll-btn {
  background: rgba(20, 20, 20, 0.85);
}

/* Ocultar en dispositivos móviles pequeños */
@media (max-width: 640px) {
  .hero-scroll-btn {
    display: none;
  }
}

/* Loading dots */
@keyframes bounce {

  0%,
  80%,
  100% {
    transform: scale(0);
  }

  40% {
    transform: scale(1);
  }
}

.loading-dot {
  animation: bounce 1.4s infinite ease-in-out both;
}

.loading-dot:nth-child(1) {
  animation-delay: -0.32s;
}

.loading-dot:nth-child(2) {
  animation-delay: -0.16s;
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

/* Card hover effect */
.card-hover {
  transition:
    transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
}

/* Gradient backgrounds */
.gradient-bg {
  background: linear-gradient(135deg,
      rgba(203, 104, 67, 0.1) 0%,
      rgba(213, 124, 85, 0.1) 100%);
}

/* Product modal image wrapper: force a natural landscape aspect on desktop while
   preserving fixed heights on smaller screens. This avoids very tall/narrow
   previews on large viewports. */
@media (min-width: 768px) {
  .product-modal__image-wrapper {
    aspect-ratio: 4 / 3;
    height: auto !important;
    /* override any lg:h-* utilities */
    max-height: calc(80vh - 4rem);
    /* keep it within modal height */
    width: 100%;
  }
}

/* ============================================
   FILM GRAIN OVERLAY
   ============================================ */
.noise-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.25;
  /* Reducido para balancear visibilidad */
  mix-blend-mode: overlay;
  overflow: hidden;
}

.dark .noise-overlay {
  opacity: 0.2;
  /* Reducido para balancear visibilidad */
}

.noise-overlay svg {
  position: absolute;
  left: -100%;
  /* Centrado para width 300% */
  top: -100%;
  /* Centrado para height 300% */
  width: 300%;
  height: 300%;
  animation: noise-shift 0.25s steps(3) infinite;
}

@keyframes noise-shift {
  0% {
    transform: translate(0, 0);
  }

  33% {
    transform: translate(5%, 5%);
  }

  66% {
    transform: translate(-5%, 2%);
  }

  100% {
    transform: translate(2%, -5%);
  }
}

/* Reduced motion: desactivar animación */
@media (prefers-reduced-motion: reduce) {
  .noise-overlay svg {
    animation: none;
  }
}

/* Touch devices: ocultar completamente (backup CSS) */
@media (hover: none) and (pointer: coarse) {
  .noise-overlay {
    display: none;
  }
}

/* ============================================
   LENIS SMOOTH SCROLL - Overrides necesarios
   ============================================ */
html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-smooth iframe {
  pointer-events: none;
}